/*******************************************************************************
 * Distill blog post styles with modern enhancements
 ******************************************************************************/


 d-title {
   h1 {
     font-size: clamp(2rem, 5vw, 3rem);
     font-weight: 700;
     line-height: 1.2;
     margin: 2rem 0 1.5rem;
     color: var(--heading-color, #1a1a1a);
   }
 }
 

 d-article {
   font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
   line-height: 1.7;
   

   h1, h2, h3, h4, h5, h6 {
     font-weight: 600;
     color: var(--heading-color, #1a1a1a);
     margin: 2em 0 1em;
   }
 
   h1 { font-size: 2.25rem; }
   h2 { font-size: 1.875rem; }
   h3 { font-size: 1.5rem; }
   h4 { font-size: 1.25rem; }
 

   a {
     color: var(--link-color, #2563eb);
     text-decoration: none;
     border-bottom: 1px solid transparent;
     transition: all 0.2s ease;
 
     &:hover {
       border-bottom-color: currentColor;
       color: var(--link-hover-color, #1d4ed8);
     }
   }
 

   p, ul, ol {
     margin-bottom: 1.5em;
     color: var(--text-color, #374151);
   }
 

   table {
     width: 100%;
     margin: 2em 0;
     border-collapse: collapse;
     font-size: 0.9em;
 
     th, td {
       padding: 0.75em;
       border-bottom: 1px solid var(--border-color, rgba(0,0,0,0.1));
       text-align: left;
     }
 
     th {
       font-weight: 600;
       background: var(--table-header-bg, rgba(0,0,0,0.02));
     }
   }
 

   d-contents {
     .toc {
       position: sticky;
       top: 4rem;
       max-height: calc(100vh - 6rem);
       overflow-y: auto;
       background: var(--toc-bg, #f8fafc);
       border-radius: 0.5rem;
       padding: 1.5rem;
       margin: 0 0 2rem;
       border: 1px solid var(--border-color, rgba(0,0,0,0.1));
       font-size: 0.875rem;
 
       h3 {
         font-size: 1rem;
         font-weight: 600;
         margin: 0 0 1rem;
         color: var(--heading-color, #1a1a1a);
       }
 
       ul {
         list-style: none;
         padding: 0;
         margin: 0;
 
         li {
           margin: 0.5rem 0;
           padding-left: 1rem;
           border-left: 2px solid transparent;
           transition: all 0.2s ease;
 
           &:hover {
             border-left-color: var(--link-color, #2563eb);
           }
 
           a {
             color: var(--text-color, #374151);
             text-decoration: none;
             
             &:hover {
               color: var(--link-color, #2563eb);
             }
           }
         }
 

         ul {
           margin-left: 1rem;
         }
       }
     }
   }
 

   d-footnote {
     scroll-margin-top: 5rem;
     
     &:target {
       background: var(--highlight-bg, rgba(37,99,235,0.1));
       padding: 0.5rem;
       border-radius: 0.25rem;
     }
   }
 }
 

 d-byline {
   border-top: 1px solid var(--border-color, rgba(0,0,0,0.1));
   padding: 1.5rem 0;
   margin: 1.5rem 0;
   font-size: 0.875rem;
   color: var(--text-secondary, #6b7280);
 
   h3 {
     font-size: 0.75rem;
     text-transform: uppercase;
     letter-spacing: 0.05em;
     margin: 0 0 0.5rem;
     color: var(--text-secondary, #6b7280);
   }
 
   a {
     color: var(--text-color, #374151);
     text-decoration: none;
     
     &:hover {
       color: var(--link-color, #2563eb);
     }
   }
 }
 

 d-appendix {
   border-top: 1px solid var(--border-color, rgba(0,0,0,0.1));
   color: var(--text-secondary, #6b7280);
   font-size: 0.875rem;
   padding-top: 2rem;
   margin-top: 2rem;
 
   h3 {
     font-size: 1rem;
     margin: 1rem 0;
   }
 
   a {
     color: var(--text-secondary, #6b7280);
     
     &:hover {
       color: var(--link-color, #2563eb);
     }
   }
 }
 

 d-share {
   display: flex;
   gap: 1rem;
   margin: 2rem 0;
   
   a {
     color: var(--text-secondary, #6b7280);
     font-size: 1.5rem;
     transition: color 0.2s ease;
     
     &:hover {
       color: var(--link-color, #2563eb);
     }
   }
 }
 

 @media (prefers-color-scheme: dark) {
   :root {
     --text-color: #e5e7eb;
     --text-secondary: #9ca3af;
     --heading-color: #f3f4f6;
     --link-color: #60a5fa;
     --link-hover-color: #93c5fd;
     --border-color: rgba(255,255,255,0.1);
     --toc-bg: rgba(17,24,39,0.8);
     --table-header-bg: rgba(255,255,255,0.05);
     --highlight-bg: rgba(96,165,250,0.1);
   }
 }
 

 @media (max-width: 768px) {
   d-article {
     font-size: 0.9375rem;
 
     h1 { font-size: 1.875rem; }
     h2 { font-size: 1.5rem; }
     h3 { font-size: 1.25rem; }
     
     table {
       display: block;
       overflow-x: auto;
       -webkit-overflow-scrolling: touch;
     }
 
     d-contents .toc {
       position: relative;
       top: 0;
       max-height: none;
     }
   }
 }