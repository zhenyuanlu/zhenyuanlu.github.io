---
layout: default
---

{% capture stripped_content %}{{ content | strip_html | strip_newlines }}{% endcapture %}
{% assign word_count = stripped_content | split:' ' | size %}
{% assign read_time = word_count | divided_by:200 %}
{% if read_time == 0 %}{% assign read_time = 1 %}{% endif %}

<div class="max-w-3xl mx-auto px-4" x-data="{ openShare: false, showShareToast: false }">
    <header class="py-12">
        <div class="mb-8">
            <a 
                href="/#blog" 
                class="inline-flex items-center px-3 py-1.5 rounded-lg
                       transition-colors"
                :class="darkMode ? 
                  'text-gray-300 hover:text-white hover:bg-gray-800/80' : 
                  'text-gray-600 hover:text-gray-900 hover:bg-gray-100/80'"
            >
                <i data-lucide="chevron-left" class="w-4 h-4 mr-1"></i>
                Back to Home
            </a>
        </div>

        <div class="mb-12">
            <h1 class="text-4xl font-bold mb-4"
                :class="darkMode ? 'text-white' : 'text-gray-900'">
                {{ page.title }}
            </h1>

            {% if page.tags %}
            <div class="flex flex-wrap gap-2 mb-6">
              {% for tag in page.tags %}
              <span class="inline-flex items-center px-2.5 py-1 rounded-md text-sm"
                    :class="darkMode ? 'bg-blue-950 text-blue-300' : 'bg-blue-50 text-blue-700'">
                <i data-lucide="tag" class="w-3 h-3 mr-1"></i>{{ tag }}
              </span>
              {% endfor %}
            </div>
            {% endif %}

            <div class="space-y-6">
                <div class="flex flex-wrap items-center justify-between gap-4">
                    <div class="flex flex-wrap items-center gap-x-6 gap-y-2 text-sm"
                         :class="darkMode ? 'text-gray-400' : 'text-gray-600'">
                        {% if page.author %}
                        <div class="font-medium"
                             :class="darkMode ? 'text-white' : 'text-gray-900'">
                            {{ page.author }}
                        </div>
                        {% endif %}

                        <div class="flex items-center gap-1.5">
                            <i data-lucide="calendar" class="w-4 h-4"></i>
                            <span>Published {{ page.date | date: "%b %d, %Y" }}</span>
                            {% if page.last_modified_at %}
                            <span class="mx-2">â€¢</span>
                            <span>Updated {{ page.last_modified_at | date: "%b %d, %Y" }}</span>
                            {% endif %}
                        </div>

                        <div class="flex items-center gap-1.5">
                            <i data-lucide="clock" class="w-4 h-4"></i>
                            <span>{{ read_time }} min read</span>
                        </div>
                    </div>

                    <div class="relative">
                        <button
                          @click="openShare = !openShare"
                          class="inline-flex items-center px-3 py-1.5 rounded-lg transition-colors"
                          :class="darkMode ? 
                            'text-gray-400 hover:text-white hover:bg-gray-800/80' : 
                            'text-gray-600 hover:text-gray-900 hover:bg-gray-100/80'"
                        >
                            <i data-lucide="share-2" class="w-4 h-4 mr-1.5"></i>
                            Share
                        </button>

                        {% include share_menu.html %}
                    </div>
                </div>

                <!-- Resources -->
                {% if page.links %}
                <div class="flex flex-wrap gap-2">
                  {% assign icons = site.data.resource_icons %}
                  {% assign icon_set = site.icon_set | default: 'lucide' %}

                  {% for resource_type in page.links %}
                    {% assign rtype = resource_type[0] %}
                    {% assign link = resource_type[1] %}
                    {% assign this_icon = icons[rtype] %}
                    {% if icon_set == 'fontawesome' %}
                      {% assign icon_class = this_icon.fontawesome %}
                      {% capture resource_icon %}<i class="{{ icon_class }}"></i>{% endcapture %}
                    {% else %}
                      {% assign icon_class = this_icon.lucide %}
                      {% capture resource_icon %}<i data-lucide="{{ icon_class }}" class="w-4 h-4"></i>{% endcapture %}
                    {% endif %}
                    {% assign label = rtype | capitalize %}

                    <a
                      href="{{ link }}"
                      class="inline-flex items-center px-3 py-1.5 rounded-lg text-sm gap-1.5
                             transition-colors group"
                      :class="darkMode ?
                        'bg-blue-950 text-blue-300 hover:bg-blue-900' :
                        'bg-blue-50 text-blue-700 hover:bg-blue-100'"
                      target="_blank" rel="noopener noreferrer"
                    >
                      {{ resource_icon }}
                      {{ label }}
                    </a>
                  {% endfor %}
                </div>
                {% endif %}
            </div>
        </div>
    </header>

    <article>
      {% if page.image %}
      <div class="relative aspect-video mb-8 rounded-xl overflow-hidden"
           :class="darkMode ? 'bg-gray-800' : 'bg-gray-100'">
        <img
          src="{{ page.image | relative_url }}"
          alt="{{ page.title }}"
          class="w-full h-full object-cover"
        />
      </div>
      {% endif %}

      <div class="prose prose-lg prose-headings:font-semibold max-w-none pb-12"
           :class="darkMode ? 'dark:prose-invert dark:prose-a:text-blue-400' : 'prose-a:text-blue-600'">
        {{ content }}
      </div>
    </article>
</div>

<!-- Toast for copied link -->
<div
  class="fixed bottom-4 right-4 bg-gray-900 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2"
  x-show="showShareToast"
  x-transition
>
  <i data-lucide="copy" class="w-4 h-4"></i>
  Link copied to clipboard
</div>
